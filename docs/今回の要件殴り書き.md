obsidianで、「システム開発保守チームの要員計画」の表作成・集計のツールをカスタムプラグインとして開発したい。

まず要件を明確に整理したいので、以下に殴り書きするので、
これをシステム化要件として整理し、その上で実現イメージ（実装アイデア、UI、使用ライブラリなど）案をください。

なお、現在開いているフォルダには、以前作成した「Obsidianで簡単に表計算ができるカスタムプラグイン（Ocalc）」のソースコードが入っています。
私の見立てでは、このプラグインを発展させることで、今回の要件の実装ができるのではと考えています。
このツールのREADME.md、および開発者向けのdocs/ARCHITECTURE.md、それから必要に応じてsrc配下のtypescriptプログラムを参照して、私のイメージを理解してください。

さて、今回の要件殴り書きです。

- 拡張子 .hrplan の１ファイルの中でデータを保持。.hrplanをobsidianで開くとカスタムプラグインの独自ビューで開く
- 以下のような簡単な表計算ができる。以下の例に沿って説明する。
	- **Obsidian上でのビューアとしてのUX仕様、 .hrplanファイルのテキストベースのフォーマットの両方を検討が必要**
	- 特にこの要員表を、AIと協働して作りたいので、AIから見て分かりやすいテキストベースのhrplanフォーマットになってることが必要。（参考として上に紹介したocalcでは、frontmatter + csvという形にした）




**表現1 (兼入力):  メンバ＞テーマ順** 
- メンバが各テーマにどれくらいの工数（単位: MM）を投入するかの表現。メンバ別テーマ別月別の各セルには直接入力可能で、入力すると、自動で、小計行や合計列にも反映される
- 目的としては、メンバの負荷が偏っていないか（月で1.00を超えてないか）と、逆に暇をしてないか、をみえるようにしたい。
- 例

対象期間 2026/4-2027/3

| メンバ  | テーマ                 | 2026/4 | 2026/5 | 2026/6 | 2026/7 | 2026/8 | 2026/9 | 2026/10 | 2026/11 | 2026/12 | 2027/1 | 2027/2 | 2027/3 | **合計** |
| ---- | ------------------- | ------ | ------ | ------ | ------ | ------ | ------ | ------- | ------- | ------- | ------ | ------ | ------ | ------ |
| 田中   | AEOシステム EKS verup対応 | 0.20   | 0.20   | 0.30   |        |        |        |         |         |         |        |        |        |        |
|      | BCQシステム 新規構築        | 0.10   | 0.10   | 0.10   |        |        |        |         |         |         |        |        |        |        |
|      | ABC snowflake導入POC  |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | 維持管理(APIGW)         | 0.20   |        |        |        |        |        |         |         |         |        |        |        |        |
|      | 維持管理(RA基盤)          | 0.30   |        |        |        |        |        |         |         |         |        |        |        |        |
|      | **小計**              | 0.80   |        |        |        |        |        |         |         |         |        |        |        |        |
| 山田   | AEOシステム EKS verup対応 |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | BCQシステム 新規構築        |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | ABC snowflake導入POC  |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | 維持管理(APIGW)         |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | 維持管理(RA基盤)          |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | **小計**              |        |        |        |        |        |        |         |         |         |        |        |        |        |
| A社 王 | AEOシステム EKS verup対応 |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | BCQシステム 新規構築        |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | ABC snowflake導入POC  |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | 維持管理(APIGW)         |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | 維持管理(RA基盤)          |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | **小計**              |        |        |        |        |        |        |         |         |         |        |        |        |        |
| A社 陳 | AEOシステム EKS verup対応 |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | BCQシステム 新規構築        |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | ABC snowflake導入POC  |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | 維持管理(APIGW)         |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | 維持管理(RA基盤)          |        |        |        |        |        |        |         |         |         |        |        |        |        |
|      | **小計**              |        |        |        |        |        |        |         |         |         |        |        |        |        |

**表現2 (兼入力):  テーマ＞メンバ順** 
- テーマごとにメンバ別でどれくらいの工数（単位: MM）を投入するかの表現。テーマ別メンバ別月別の各セルには直接入力可能で、入力すると、自動で、小計行や合計列にも反映される
- 目的としては、各テーマにどれくらいの人的コストがかかっているかを確認したい。
- 例

| テーマ                 | メンバ    | 2026/4 | 2026/5 | 2026/6 | 2026/7 | 2026/8 | 2026/9 | 2026/10 | 2026/11 | 2026/12 | 2027/1 | 2027/2 | 2027/3 | **合計** |
| ------------------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------- | ------- | ------- | ------ | ------ | ------ | ------ |
| AEOシステム EKS verup対応 | 田中     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | 山田     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 王   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 陳   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | **小計** |        |        |        |        |        |        |         |         |         |        |        |        |        |
| BCQシステム 新規構築        | 田中     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | 山田     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 王   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 陳   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | **小計** |        |        |        |        |        |        |         |         |         |        |        |        |        |
| ABC snowflake導入POC  | 田中     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | 山田     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 王   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 陳   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | **小計** |        |        |        |        |        |        |         |         |         |        |        |        |        |
| 維持管理(APIGW)         | 田中     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | 山田     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 王   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 陳   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | **小計** |        |        |        |        |        |        |         |         |         |        |        |        |        |
| 維持管理(RA基盤)          | 田中     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | 山田     |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 王   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | A社 陳   |        |        |        |        |        |        |         |         |         |        |        |        |        |
|                     | **小計** |        |        |        |        |        |        |         |         |         |        |        |        |        |

**入力1  テーマ一覧**
- テーマの一覧、上記表現1.2.でのテーマ列に反映される。自由入力
- AIに考えさせるための参考の説明が入れられる
- 例

| テーマ                 | 説明                                     |
| ------------------- | -------------------------------------- |
| AEOシステム EKS verup対応 | AEOシステムのEKSをバージョンアップする。<br>4-6月で対応が必要。 |
| BCQシステム 新規構築        |                                        |
| ABC snowflake導入POC  |                                        |
| 維持管理(APIGW)         |                                        |
| 維持管理(RA基盤)          |                                        |


**入力2  メンバ一覧**
- メンバの一覧、上記表現1.2.でのメンバ列に反映される。自由入力
- AIに考えさせるための参考の説明が入れられる
- ※ 単価を掛け算して、月別コストを出すという改善もゆくゆくのマイルストーンとする。
- 例

| メンバ  | 説明                                | 単価(千円/MM) |
| ---- | --------------------------------- | --------- |
| 田中   | リーダー的役割で、マネジメント（レビュー、進捗管理、課題フォロー） | 3000      |
| 山田   | メンバとして各テーマ対応                      | 2000      |
| A社 王 | AEO、RA基盤の開発メンバ                    | 1500      |
| A社 陳 | ABC、APIGWの開発メンバ                   | 1500      |



- ビューの仕様
	- 入力1. テーマ一覧、入力2. メンバー一覧は、縦方向（行）に、Obsidian標準のプレビューモードのテーブルのように広げていける。（行は、入力後改行）
	- 入力1. 2. および表現1.2. をビュー上どのように配置するかはアイデアが欲しい。
	- 表現1.2.の小計行や合計列以外のところは折りたたみ可能。行方向もしくは列方向の全体を一気に折りたたむボタンもある。（後回しでもいい）
- データの仕様
	- 上記は、なるべくそのままの形で、CSVで .hrplanファイルに保存されている（AIと連動して作業できることも意識してる）
	- 合計や小計の数字も、ビュー上では編集不能だが、AIとの協働を意識して何らかの形で、hrplanの中にもデータとしてもつ（ocalc同様）持ち方は工夫しどころな気がする。frontmatterで定義として持つとか？ここはアイデアが欲しい
	- ビュー上で入力操作をするたびに、.hrplanファイルの実体も連動して更新される。